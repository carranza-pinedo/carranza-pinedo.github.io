{%- comment -%}
Pretty date:
- single day: 28 Aug 2025
- same month/year range: 9–10 Feb 2026
- different months/years: 28 Aug 2025 – 2 Sep 2025
{%- endcomment -%}

{%- assign d1_day = post.date | date: "%-d" -%}
{%- assign d1_my  = post.date | date: "%b %Y" -%}
{%- assign d1_full = post.date | date: "%-d %b %Y" -%}

{%- if post.date_end and post.date_end != "" -%}
  {%- assign d2_day = post.date_end | date: "%-d" -%}
  {%- assign d2_my  = post.date_end | date: "%b %Y" -%}
  {%- assign d2_full = post.date_end | date: "%-d %b %Y" -%}

  {%- if d1_my == d2_my -%}
    {%- assign date_str = d1_day | append: "–" | append: d2_day | append: " " | append: d1_my -%}
  {%- else -%}
    {%- assign date_str = d1_full | append: " – " | append: d2_full -%}
  {%- endif -%}
{%- else -%}
  {%- assign date_str = d1_full -%}
{%- endif -%}

<p class="talkline" style="margin: 0 0 0.9rem 0;">
  <em>{{ post.title }}</em> — {{ post.venue }}{% if post.location and post.location != "" %}, {{ post.location }}{% endif %} ({{ date_str }})
</p>
