{% assign year = post.date | date: "%Y" %}

{%- comment -%}
Extract a short journal/venue name from `venue` by dropping anything after "(" or ",".
{%- endcomment -%}
{% assign journal = post.venue | split: "(" | first | split: "," | first | strip %}

{%- capture coauth -%}{% if post.coauthors and post.coauthors != "" %} (with {{ post.coauthors }}){% endif %}{%- endcapture -%}

{%- assign lastchar = post.title | slice: -1, 1 -%}
{%- if lastchar == "?" or lastchar == "!" or lastchar == "." -%}
  {%- assign endpunct = "" -%}
{%- else -%}
  {%- assign endpunct = "." -%}
{%- endif -%}

<p class="publine" style="margin: 0 0 0.75rem 0;">
  ({{ year }}) {{ post.title }}{{ coauth }}{{ endpunct }}
  <strong><em>{{ journal }}</em></strong>{% if post.paperurl and post.paperurl != "" %} â€” <a href="{{ post.paperurl }}">Link</a>{% endif %}
</p>
